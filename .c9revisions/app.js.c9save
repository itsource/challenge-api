{"ts":1363278974644,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"// ==================================================================\n// After connecting to mongo start listening for requests\n// ==================================================================\n\nvar mongo = require('mongodb');\nvar BSON = mongo.BSONPure;\nvar express = require('express');\nvar http = require('http');\nvar xml2js = require('xml2js');\n\nvar app = express();\napp.use(express.bodyParser());\n\nvar db = new mongo.Db('challengedb',\n    new mongo.Server('ds033047.mongolab.com', 33047, {auto_reconnect: true}),\n    {w: 'majority'});\n\nconsole.log('connecting to mongo');\ndb.open(function(err, client) {\n    if (err) {\n        console.log('error opening db: ' + err);\n    } else {\n        db.addListener(\"error\", function(error){\n            console.log(\"db error: \" + error);\n        });\n\n        client.authenticate('api-user', 'challengedb', function(err, success) {\n            if (err) {\n                console.log('error authenticating with database');\n            } else {\n                var port = 8080;\n                app.listen(port, function () {\n                    console.log('listening on ' + port);\n                });\n            }\n        });\n    }\n});\n\n\n// ==================================================================\n// Routes\n// ==================================================================\n\napp.get('/', function(req, res, next) {\n    res.setHeader('Content-Type', 'text/html');\n    res.send('<a href=\"feed\">Challenges</a>');\n});\n\n\n/**\n * Returns the complete feed\n */\napp.get('/feed', function(req, res, next) {\n    db.collection('challenges', function(err, collection) {\n        if (err) {\n          console.log(err);\n          return next(err);\n        } else {\n            var feed = { challenges: [] };\n\n            var stream = collection.find().stream();\n\n            stream.on('data', function(data) {\n                feed.challenges.push(data);\n            });\n\n            stream.on('end', function() {\n               res.json(feed);\n            });\n        }\n    })\n});\n\n\n/**\n * Returns the requested (\"bookmarked\") challenges\n */\napp.put('/bookmarks', function(req, res, next) {\n    var ids = req.body.ids;\n    getBookmarkedChallenges(ids, function(err, challenges) {\n        if (err) {\n            console.log(err);\n            return next(err);\n        } else {\n            var result = { 'challenges': challenges };\n            res.json(result);\n        }\n    });\n});\n\n\n/**\n * Returns the challenge.gov source feed in JSON format\n */\napp.get('/remotefeed', function(req, res, next) {\n    getFeed(function(err, json) {\n        if (err) {\n            console.log(err);\n            return next(err);\n        } else {\n            res.json(json);\n        }\n    });\n});\n\n\n/**\n * Start a harvest job\n */\napp.post('/jobs/harvest', function(req, res, next) {\n\tgetFeed(function(err, data) {\n\t\tif (err) {\n\t\t\treturn next(err);\n\t\t} else {\n\t\t\tsaveFeed(data, function(err, success) {\n\t\t\t\tif (err) {\n                    console.log(err);\n                    return next(err);\n                } else {\n                    res.json(data)\n                }\n            });\n        }\n    });\n\n});\n\n\n// ==================================================================\n// Implementation\n// ==================================================================\n\n/**\n * Returns the latest government challenges as a javascript object.\n * @param callback\n */\nfunction getFeed(callback)\n{\n    var options = {\n        host: 'challenge.gov',\n        path: '/api/challenges.xml'\n    };\n\n    http.request(options, function(resp) {\n        var xml = '';\n\n        resp.on('data', function(chunk) {\n            xml += chunk;\n        });\n\n        resp.on('end', function() {\n            var parseOptions = {\n                \"explicitArray\": false,\n                \"explicitRoot\": false\n            };\n\n            xml2js.parseString(xml, parseOptions, function(err, data) {\n                if (err) {\n                    return callback(err);\n                } else {\n                    callback(null, data);\n                }\n            });\n        })\n    }).end();\n};\n\n\nfunction saveFeed(data, callback) {\n    data.challenge.reverse().forEach(function(item) {\n        db.collection('challenges', function(err, collection) {\n            if (err) {\n                return callback(err);\n            } else {\n                collection.findOne({title: item.title}, function(err, entry) {\n                    if (err) {\n                        return callback(err);\n                    } else {\n                        if (entry) {\n                            console.log('entry exists: ' + entry.title);\n                        } else {\n                            collection.save(item, function(err, saved) {\n                                if (err) {\n                                    return callback(err);\n                                } else {\n                                    console.log(\"saved: \" + item.title);\n                                }\n                            });\n                        }\n                    }\n                });\n            }\n        })\n    });\n\n    callback(null, true);\n};\n\n\nfunction getBookmarkedChallenges(ids, callback) {\n    var results = [];\n\n    db.collection('challenges', function(err, collection) {\n        if (err) {\n            return callback(err);\n        } else {\n            var count = ids.length;\n            ids.forEach(function(id) {\n                var oid = BSON.ObjectID(id);\n                collection.findOne({_id: oid}, function(err, challenge) {\n                    if (err) {\n                        return callback(err);\n                    } else {\n                        console.log(challenge);\n                        results.push(challenge);\n\n                        count--;\n                        if(!count) {\n                            callback(null, results);\n                        }\n                    }\n                });\n            });\n        }\n    });\n};\n\n\n\n\n"]],"start1":0,"start2":0,"length1":0,"length2":5982}]],"length":5982}
{"contributors":[],"silentsave":true,"ts":1363279033987,"patch":[[{"diffs":[[0,"dy.ids;\n"],[1,"    console.log()\n"],[0,"    getB"]],"start1":2155,"start2":2155,"length1":16,"length2":34}]],"length":6000,"saved":false}
{"ts":1363279045324,"patch":[[{"diffs":[[0,"ole.log("],[1,"\"/bookmarks:\""],[0,")\n    ge"]],"start1":2171,"start2":2171,"length1":16,"length2":29}]],"length":6013,"saved":false}
{"ts":1363279046554,"patch":[[{"diffs":[[0,"okmarks:"],[1," "],[0,"\")\n    g"]],"start1":2183,"start2":2183,"length1":16,"length2":17}]],"length":6014,"saved":false}
{"ts":1363279051567,"patch":[[{"diffs":[[0,"le.log(\""],[1,"GET "],[0,"/bookmar"]],"start1":2172,"start2":2172,"length1":16,"length2":20}]],"length":6018,"saved":false}
{"ts":1363279055220,"patch":[[{"diffs":[[0,"marks: \""],[1," + "],[0,")\n    ge"]],"start1":2189,"start2":2189,"length1":16,"length2":19}]],"length":6021,"saved":false}
{"ts":1363279062258,"patch":[[{"diffs":[[0,"ks: \" + "],[1,"ids"],[0,")\n    ge"]],"start1":2192,"start2":2192,"length1":16,"length2":19}]],"length":6024,"saved":false}
{"contributors":[],"silentsave":true,"ts":1363411981526,"patch":[[{"diffs":[[0,"es, next) {\n"],[1,"    \n"],[0,"    db.colle"]],"start1":1545,"start2":1545,"length1":24,"length2":29}]],"length":6029,"saved":false}
{"ts":1363411984348,"patch":[[{"diffs":[[0,") {\n    "],[1,"var sort"],[0,"\n    db."]],"start1":1553,"start2":1553,"length1":16,"length2":24}]],"length":6037,"saved":false}
{"ts":1363411987061,"patch":[[{"diffs":[[0,"var sort"],[1,"By "],[0,"\n    db."]],"start1":1561,"start2":1561,"length1":16,"length2":19}]],"length":6040,"saved":false}
{"ts":1363411992472,"patch":[[{"diffs":[[0,"sort"],[-1,"By "],[0,"\n   "]],"start1":1565,"start2":1565,"length1":11,"length2":8}]],"length":6037,"saved":false}
{"ts":1363411994048,"patch":[[{"diffs":[[0,"var sort"],[1," = re"],[0,"\n    db."]],"start1":1561,"start2":1561,"length1":16,"length2":21}]],"length":6042,"saved":false}
{"ts":1363411996219,"patch":[[{"diffs":[[0,"ort = re"],[1,"q.q"],[0,"\n    db."]],"start1":1566,"start2":1566,"length1":16,"length2":19}]],"length":6045,"saved":false}
{"ts":1363411997328,"patch":[[{"diffs":[[0," = req.q"],[1,"ue"],[0,"\n    db."]],"start1":1569,"start2":1569,"length1":16,"length2":18}]],"length":6047,"saved":false}
{"ts":1363412011684,"patch":[[{"diffs":[[0,"t = req."],[-1,"que"],[0,"\n    db."]],"start1":1568,"start2":1568,"length1":19,"length2":16}]],"length":6044,"saved":false}
{"ts":1363412013611,"patch":[[{"diffs":[[0,"t = req."],[1,"qu"],[0,"\n    db."]],"start1":1568,"start2":1568,"length1":16,"length2":18}]],"length":6046,"saved":false}
{"ts":1363412014945,"patch":[[{"diffs":[[0,"= req.qu"],[1,"ery."],[0,"\n    db."]],"start1":1570,"start2":1570,"length1":16,"length2":20}]],"length":6050,"saved":false}
{"ts":1363412015914,"patch":[[{"diffs":[[0,"q.query."],[1,"so"],[0,"\n    db."]],"start1":1574,"start2":1574,"length1":16,"length2":18}]],"length":6052,"saved":false}
{"ts":1363412017518,"patch":[[{"diffs":[[0,"query.so"],[1,"rt;"],[0,"\n    db."]],"start1":1576,"start2":1576,"length1":16,"length2":19}]],"length":6055,"saved":false}
{"ts":1363412020415,"patch":[[{"diffs":[[0,"y.sort;\n"],[1,"    \n"],[0,"    db.c"]],"start1":1580,"start2":1580,"length1":16,"length2":21}]],"length":6060,"saved":false}
{"ts":1363412092409,"patch":[[{"diffs":[[0,"rt;\n    "],[1,"console"],[0,"\n    db."]],"start1":1584,"start2":1584,"length1":16,"length2":23}]],"length":6067,"saved":false}
{"ts":1363412096496,"patch":[[{"diffs":[[0," console"],[1,".log()"],[0,"\n    db."]],"start1":1591,"start2":1591,"length1":16,"length2":22}]],"length":6073,"saved":false}
{"ts":1363412098212,"patch":[[{"diffs":[[0,"ole.log("],[1,"\"sort\""],[0,")\n    db"]],"start1":1596,"start2":1596,"length1":16,"length2":22}]],"length":6079,"saved":false}
{"ts":1363412100079,"patch":[[{"diffs":[[0,"og(\"sort"],[1,"="],[0,"\")\n    d"]],"start1":1601,"start2":1601,"length1":16,"length2":17}]],"length":6080,"saved":false}
{"ts":1363412102446,"patch":[[{"diffs":[[0,"(\"sort=\""],[1," + sort"],[0,")\n    db"]],"start1":1603,"start2":1603,"length1":16,"length2":23}]],"length":6087,"saved":false}
{"ts":1363412104314,"patch":[[{"diffs":[[0," + sort)"],[1,";"],[0,"\n    db."]],"start1":1611,"start2":1611,"length1":16,"length2":17}]],"length":6088,"saved":false}
{"ts":1363412105932,"patch":[[{"diffs":[[0,"=\" + sort);\n"],[1,"    \n"],[0,"    db.colle"]],"start1":1609,"start2":1609,"length1":24,"length2":29}]],"length":6093,"saved":false}
{"ts":1363412656517,"patch":[[{"diffs":[[0,"', function() {\n"],[1,"                \n"],[0,"               r"]],"start1":2010,"start2":2010,"length1":32,"length2":49}]],"length":6110,"saved":false}
{"ts":1363412662052,"patch":[[{"diffs":[[0,"            "],[1,"if ()"],[0,"\n           "]],"start1":2030,"start2":2030,"length1":24,"length2":29}]],"length":6115,"saved":false}
{"ts":1363412665664,"patch":[[{"diffs":[[0,"    if ("],[1,"sort == "],[0,")\n      "]],"start1":2038,"start2":2038,"length1":16,"length2":24}]],"length":6123,"saved":false}
{"ts":1363412668720,"patch":[[{"diffs":[[0,"sort == "],[1,"1"],[0,")\n      "]],"start1":2046,"start2":2046,"length1":16,"length2":17}]],"length":6124,"saved":false}
{"ts":1363412671969,"patch":[[{"diffs":[[0,"rt == 1)"],[1," {\n                    \n                }"],[0,"\n       "]],"start1":2048,"start2":2048,"length1":16,"length2":57}]],"length":6165,"saved":false}
{"ts":1363412677665,"patch":[[{"diffs":[[0,"               }"],[1," else if (sort == 2)"],[0,"\n               "]],"start1":2081,"start2":2081,"length1":32,"length2":52}]],"length":6185,"saved":false}
{"ts":1363412680251,"patch":[[{"diffs":[[0,"rt == 2)"],[1," {\n                    \n                }"],[0,"\n       "]],"start1":2109,"start2":2109,"length1":16,"length2":57}]],"length":6226,"saved":false}
{"ts":1363412688133,"patch":[[{"diffs":[[0,"\n               "],[1," "],[0,"res.json(feed);\n"]],"start1":2158,"start2":2158,"length1":32,"length2":33}]],"length":6227,"saved":false}
{"ts":1363412689064,"patch":[[{"diffs":[[0,"              }\n"],[1,"                \n"],[0,"                "]],"start1":2143,"start2":2143,"length1":32,"length2":49}]],"length":6244,"saved":false}
{"ts":1363412742624,"patch":[[{"diffs":[[0,"ery.sort"],[1,".t"],[0,";\n    co"]],"start1":1578,"start2":1578,"length1":16,"length2":18}]],"length":6246,"saved":false}
{"ts":1363412743752,"patch":[[{"diffs":[[0,"y.sort.t"],[1,"oi"],[0,";\n    co"]],"start1":1580,"start2":1580,"length1":16,"length2":18}]],"length":6248,"saved":false}
{"ts":1363412745217,"patch":[[{"diffs":[[0,".sort.to"],[-1,"i"],[0,";\n    co"]],"start1":1581,"start2":1581,"length1":17,"length2":16}]],"length":6247,"saved":false}
{"ts":1363412747210,"patch":[[{"diffs":[[0,"ry.sort."],[-1,"to"],[1,"asi"],[0,";\n    co"]],"start1":1579,"start2":1579,"length1":18,"length2":19}]],"length":6248,"saved":false}
{"ts":1363412749447,"patch":[[{"diffs":[[0,"sort"],[-1,".asi"],[0,";\n  "]],"start1":1582,"start2":1582,"length1":12,"length2":8}]],"length":6244,"saved":false}
{"ts":1363412789367,"patch":[[{"diffs":[[0,"var sort"],[1,"str"],[0," = req.q"]],"start1":1561,"start2":1561,"length1":16,"length2":19}]],"length":6247,"saved":false}
{"ts":1363412792698,"patch":[[{"diffs":[[0,"var sort"],[-1,"str"],[0," = req.q"]],"start1":1561,"start2":1561,"length1":19,"length2":16}]],"length":6244,"saved":false}
{"ts":1363412806768,"patch":[[{"diffs":[[0,"sort == "],[1,"\""],[0,"1) {\n   "]],"start1":2046,"start2":2046,"length1":16,"length2":17}]],"length":6245,"saved":false}
{"ts":1363412808186,"patch":[[{"diffs":[[0,"rt == \"1"],[1,"\""],[0,") {\n    "]],"start1":2048,"start2":2048,"length1":16,"length2":17}]],"length":6246,"saved":false}
{"ts":1363412811429,"patch":[[{"diffs":[[0,"sort == "],[1,"\""],[0,"2) {\n   "]],"start1":2109,"start2":2109,"length1":16,"length2":17}]],"length":6247,"saved":false}
{"ts":1363412812934,"patch":[[{"diffs":[[0,"rt == \"2"],[1,"\""],[0,") {\n    "]],"start1":2111,"start2":2111,"length1":16,"length2":17}]],"length":6248,"saved":false}
{"ts":1363413336701,"patch":[[{"diffs":[[0,"ery.sort"],[-1,";"],[0,"\n    con"]],"start1":1578,"start2":1578,"length1":17,"length2":16}]],"length":6247,"saved":false}
{"ts":1363413339455,"patch":[[{"diffs":[[0,"ery.sort"],[1,".parse"],[0,"\n    con"]],"start1":1578,"start2":1578,"length1":16,"length2":22}]],"length":6253,"saved":false}
{"ts":1363413341918,"patch":[[{"diffs":[[0,"rt.parse"],[1,"Int"],[0,"\n    con"]],"start1":1584,"start2":1584,"length1":16,"length2":19}]],"length":6256,"saved":false}
{"ts":1363413343051,"patch":[[{"diffs":[[0,"parseInt"],[1,"();"],[0,"\n    con"]],"start1":1587,"start2":1587,"length1":16,"length2":19}]],"length":6259,"saved":false}
{"ts":1363413348074,"patch":[[{"diffs":[[0,"sort == "],[-1,"\""],[0,"1\") {\n  "]],"start1":2057,"start2":2057,"length1":17,"length2":16}]],"length":6258,"saved":false}
{"ts":1363413349405,"patch":[[{"diffs":[[0,"ort == 1"],[-1,"\""],[0,") {\n    "]],"start1":2058,"start2":2058,"length1":17,"length2":16}]],"length":6257,"saved":false}
{"ts":1363413351815,"patch":[[{"diffs":[[0," == "],[-1,"\"2\""],[1,"2"],[0,") {\n"]],"start1":2122,"start2":2122,"length1":11,"length2":9}]],"length":6255,"saved":false}
{"ts":1363413393627,"patch":[[{"diffs":[[0,"rt ="],[-1,"= 2)"],[0," {\n "]],"start1":2120,"start2":2120,"length1":12,"length2":8}]],"length":6251,"saved":false}
{"ts":1363413395049,"patch":[[{"diffs":[[0," (sort ="],[1,"= 2)"],[0," {\n     "]],"start1":2116,"start2":2116,"length1":16,"length2":20}]],"length":6255,"saved":false}
{"ts":1363413431331,"patch":[[{"diffs":[[0,"', function() {\n"],[1,"                if \n"],[0,"                "]],"start1":2021,"start2":2021,"length1":32,"length2":52}]],"length":6275,"saved":false}
{"ts":1363413433834,"patch":[[{"diffs":[[0,"     if "],[1,"(sort == 1) "],[0,"\n       "]],"start1":2048,"start2":2048,"length1":16,"length2":28}]],"length":6287,"saved":false}
{"ts":1363413434874,"patch":[[{"diffs":[[0,"t == 1) "],[1,"{\n                    \n                }"],[0,"\n       "]],"start1":2060,"start2":2060,"length1":16,"length2":56}]],"length":6327,"saved":false}
{"ts":1363413438838,"patch":[[{"diffs":[[0,"               }"],[1," else if ()"],[0,"\n               "]],"start1":2092,"start2":2092,"length1":32,"length2":43}]],"length":6338,"saved":false}
{"ts":1363413441422,"patch":[[{"diffs":[[0,"lse if ("],[-1,")"],[1,"sort == 2) "],[0,"\n       "]],"start1":2110,"start2":2110,"length1":17,"length2":27}]],"length":6348,"saved":false}
{"ts":1363413443772,"patch":[[{"diffs":[[0,"t == 2) "],[1,"{\n                    \n                }"],[0,"\n       "]],"start1":2121,"start2":2121,"length1":16,"length2":56}]],"length":6388,"saved":false}
{"ts":1363413449441,"patch":[[{"diffs":[[0,"  }\n"],[-1,"                if (sort == 1) {\n                    \n                } else if (sort == 2) {\n                    \n                }\n"],[0,"    "]],"start1":2166,"start2":2166,"length1":141,"length2":8}]],"length":6255,"saved":false}
{"ts":1363413481858,"patch":[[{"diffs":[[0,"sort"],[-1,".parseInt();"],[0,"\n   "]],"start1":1582,"start2":1582,"length1":20,"length2":8}]],"length":6243,"saved":false}
{"ts":1363413482418,"patch":[[{"diffs":[[0," sort);\n"],[-1,"    "],[0,"\n    db."]],"start1":1612,"start2":1612,"length1":20,"length2":16},{"diffs":[[0,"== 1) {\n"],[-1,"                    "],[0,"\n       "]],"start1":2046,"start2":2046,"length1":36,"length2":16},{"diffs":[[0,"== 2) {\n"],[-1,"                    "],[0,"\n       "]],"start1":2087,"start2":2087,"length1":36,"length2":16},{"diffs":[[0,"      }\n"],[-1,"                "],[0,"\n       "]],"start1":2106,"start2":2106,"length1":32,"length2":16}]],"length":6183,"saved":false}
{"ts":1363413487707,"patch":[[{"diffs":[[0," sort = "],[1,"parseInt("],[0,"req.quer"]],"start1":1564,"start2":1564,"length1":16,"length2":25}]],"length":6192,"saved":false}
{"ts":1363413490241,"patch":[[{"diffs":[[0,"ery.sort"],[1,");"],[0,"\n    con"]],"start1":1587,"start2":1587,"length1":16,"length2":18}]],"length":6194,"saved":false}
{"ts":1363413535435,"patch":[[{"diffs":[[0,"ort == 1) {\n"],[1,"                    "],[0,"\n           "]],"start1":2053,"start2":2053,"length1":24,"length2":44}]],"length":6214,"saved":false}
{"ts":1363413541975,"patch":[[{"diffs":[[0,"        "],[1,"feed.s"],[0,"\n       "]],"start1":2077,"start2":2077,"length1":16,"length2":22}]],"length":6220,"saved":false}
{"ts":1363413543084,"patch":[[{"diffs":[[0,"  feed.s"],[1,"o"],[0,"\n       "]],"start1":2083,"start2":2083,"length1":16,"length2":17}]],"length":6221,"saved":false}
{"ts":1363413544120,"patch":[[{"diffs":[[0," feed.so"],[1,"rt"],[0,"\n       "]],"start1":2084,"start2":2084,"length1":16,"length2":18}]],"length":6223,"saved":false}
{"ts":1363413546628,"patch":[[{"diffs":[[0,"eed.sort"],[1,"(function)"],[0,"\n       "]],"start1":2086,"start2":2086,"length1":16,"length2":26}]],"length":6233,"saved":false}
{"ts":1363413549013,"patch":[[{"diffs":[[0,"function"],[1,"(a, b) "],[0,")\n      "]],"start1":2095,"start2":2095,"length1":16,"length2":23}]],"length":6240,"saved":false}
{"ts":1363413550332,"patch":[[{"diffs":[[0,"n(a, b) "],[1,"{\n                        \n                    }"],[0,")\n      "]],"start1":2102,"start2":2102,"length1":16,"length2":64}]],"length":6288,"saved":false}
{"ts":1363413552740,"patch":[[{"diffs":[[0,"          })"],[1,";"],[0,"\n           "]],"start1":2147,"start2":2147,"length1":24,"length2":25}]],"length":6289,"saved":false}
{"ts":1363413679493,"patch":[[{"diffs":[[0,") {\n"],[-1,"                if (sort == 1) {\n                    feed.sort(function(a, b) {\n                        \n                    });\n                } else if (sort == 2) {\n\n                }\n\n"],[0,"    "]],"start1":2028,"start2":2028,"length1":197,"length2":8}]],"length":6100,"saved":false}
{"contributors":[],"silentsave":true,"ts":1363463409918,"patch":[[{"diffs":[[0,"unk;\n        });"],[1,"\n        \n        v"],[0,"\n\n        resp.o"]],"start1":3763,"start2":3763,"length1":32,"length2":51}]],"length":6119,"saved":false}
{"ts":1363463412555,"patch":[[{"diffs":[[0,"       v"],[1,"ar validator "],[0,"\n\n      "]],"start1":3790,"start2":3790,"length1":16,"length2":29}]],"length":6132,"saved":false}
{"ts":1363463413902,"patch":[[{"diffs":[[0,"lidator "],[1,"= "],[0,"\n\n      "]],"start1":3803,"start2":3803,"length1":16,"length2":18}]],"length":6134,"saved":false}
{"ts":1363463415556,"patch":[[{"diffs":[[0,"dator = "],[1,"validator = (xpath, currentValue, newValue) ->\n  if xpath == '/sample/validatortest/numbertest'\n    return Number(newValue)\n  else if xpath in ['/sample/arraytest', '/sample/validatortest/emptyarray', '/sample/validatortest/oneitemarray']\n    if not newValue or not ('item' of newValue)\n      return {'item': []}\n  else if xpath in ['/sample/arraytest/item', '/sample/validatortest/emptyarray/item', '/sample/validatortest/oneitemarray/item']\n    if not currentValue\n      return newValue\n  else if xpath == '/validationerror'\n    throw new xml2js.ValidationError(\"Validation error!\")\n  return newValue\n"],[0,"\n\n      "]],"start1":3805,"start2":3805,"length1":16,"length2":619}]],"length":6737,"saved":false}
{"ts":1363463418089,"patch":[[{"diffs":[[0,"ator"],[-1," = validator = (xpath, currentValue, newValue) ->\n  if xpath == '/sample/validatortest/numbertest'\n    return Number(newValue)\n  else if xpath in ['/sample/arraytest', '/sample/validatortest/emptyarray', '/sample/validatortest/oneitemarray']\n    if not newValue or not ('item' of newValue)\n      return {'item': []}\n  else if xpath in ['/sample/arraytest/item', '/sample/validatortest/emptyarray/item', '/sample/validatortest/oneitemarray/item']\n    if not currentValue\n      return newValue\n  else if xpath == '/validationerror'\n    throw new xml2js.ValidationError(\"Validation error!\")\n  return newValue\n"],[0,"\n\n  "]],"start1":3806,"start2":3806,"length1":614,"length2":8}]],"length":6131,"saved":false}
{"ts":1363463420600,"patch":[[{"diffs":[[0,"alidator"],[1," = (xpath, currentValue, newValue) ->\n  if xpath == '/sample/validatortest/numbertest'\n    return Number(newValue)\n  else if xpath in ['/sample/arraytest', '/sample/validatortest/emptyarray', '/sample/validatortest/oneitemarray']\n    if not newValue or not ('item' of newValue)\n      return {'item': []}\n  else if xpath in ['/sample/arraytest/item', '/sample/validatortest/emptyarray/item', '/sample/validatortest/oneitemarray/item']\n    if not currentValue\n      return newValue\n  else if xpath == '/validationerror'\n    throw new xml2js.ValidationError(\"Validation error!\")\n  return newValue\n"],[0,"\n\n      "]],"start1":3802,"start2":3802,"length1":16,"length2":610}]],"length":6725,"saved":false}
{"contributors":[],"silentsave":true,"ts":1363474348418,"patch":[[{"diffs":[[0,"es</a>');\n});\n\n\n"],[1,"app.get('/', function(req, res, next) {\n    res.setHeader('Content-Type', 'text/html');\n    res.send('<a href=\"feed\">Challenges</a>');\n});\n\n\n"],[0,"/**\n * Returns t"]],"start1":1460,"start2":1460,"length1":32,"length2":173},{"diffs":[[0,"var "],[-1,"validator = (xpath, currentValue, newValue) ->\n  if xpath == '/sample/validatortest/numbertest'\n    return Number(newValue)\n  else if xpath in ['/sample/arraytest', '/sample/validatortest/emptyarray', '/sample/validatortest/oneitemarray']\n    if not newValue or not ('item' of newValue)\n      return {'item': []}\n  else if xpath in ['/sample/arraytest/item', '/sample/validatortest/emptyarray/item', '/sample/validatortest/oneitemarray/item']\n    if not currentValue\n      return newValue\n  else if xpath == '/validationerror'\n    throw new xml2js.ValidationError(\"Validation error!\")\n  return newValue\n"],[0,"\n\n  "]],"start1":3938,"start2":3938,"length1":611,"length2":8}]],"length":6263,"saved":false}
{"ts":1363474352666,"patch":[[{"diffs":[[0,"});\n\n\napp.get('/"],[1,"info"],[0,"', function(req,"]],"start1":1470,"start2":1470,"length1":32,"length2":36}]],"length":6267,"saved":false}
{"ts":1363474376621,"patch":[[{"diffs":[[0,"nd('"],[-1,"<a href=\"feed\">Challenges</a>"],[1,"He"],[0,"');\n"]],"start1":1578,"start2":1578,"length1":37,"length2":10}]],"length":6240,"saved":false}
{"ts":1363474378109,"patch":[[{"diffs":[[0,"s.send('"],[-1,"He"],[0,"');\n});\n"]],"start1":1574,"start2":1574,"length1":18,"length2":16}]],"length":6238,"saved":false}
{"ts":1363474382561,"patch":[[{"diffs":[[0,"s.send('"],[1,"<h1>Info"],[0,"');\n});\n"]],"start1":1574,"start2":1574,"length1":16,"length2":24}]],"length":6246,"saved":false}
{"ts":1363474386168,"patch":[[{"diffs":[[0,"<h1>Info"],[1,"</"],[0,"');\n});\n"]],"start1":1582,"start2":1582,"length1":16,"length2":18}]],"length":6248,"saved":false}
{"ts":1363474388913,"patch":[[{"diffs":[[0,"1>Info</"],[1,"h1>"],[0,"');\n});\n"]],"start1":1584,"start2":1584,"length1":16,"length2":19}]],"length":6251,"saved":false}
{"ts":1363474389905,"patch":[[{"diffs":[[0,"    });\n"],[-1,"        "],[0,"\n       "]],"start1":3901,"start2":3901,"length1":24,"length2":16},{"diffs":[[0,"     var"],[-1," "],[0,"\n\n      "]],"start1":3913,"start2":3913,"length1":17,"length2":16}]],"length":6242,"saved":false}
{"ts":1363474395538,"patch":[[{"diffs":[[0,"nfo</h1>"],[1,"hello"],[0,"');\n});\n"]],"start1":1587,"start2":1587,"length1":16,"length2":21}]],"length":6247,"saved":false}
{"ts":1363474399621,"patch":[[{"diffs":[[0,".send('<"],[1,"html><"],[0,"h1>Info<"]],"start1":1575,"start2":1575,"length1":16,"length2":22}]],"length":6253,"saved":false}
{"ts":1363474411191,"patch":[[{"diffs":[[0,"h1>hello"],[1,"</"],[0,"');\n});\n"]],"start1":1598,"start2":1598,"length1":16,"length2":18}]],"length":6255,"saved":false}
{"ts":1363474413383,"patch":[[{"diffs":[[0,">hello</"],[1,"html>"],[0,"');\n});\n"]],"start1":1600,"start2":1600,"length1":16,"length2":21}]],"length":6260,"saved":false}
{"ts":1363474579314,"patch":[[{"diffs":[[0,"        "],[-1,"var"],[1,"// todo "],[0,"\n\n      "]],"start1":3928,"start2":3928,"length1":19,"length2":24}]],"length":6265,"saved":false}
{"ts":1363474579957,"patch":[[{"diffs":[[0," // todo"],[-1," "],[0,"\n\n      "]],"start1":3935,"start2":3935,"length1":17,"length2":16}]],"length":6264,"saved":false}
{"ts":1363474585540,"patch":[[{"diffs":[[0," // todo"],[1,": handle sort"],[0,"\n\n      "]],"start1":3935,"start2":3935,"length1":16,"length2":29}]],"length":6277,"saved":false}
{"contributors":[],"silentsave":true,"ts":1363479287400,"patch":[[{"diffs":[[0,"ml><"],[-1,"h1>Info</h1>hello"],[1,"a"],[0,"</ht"]],"start1":1585,"start2":1585,"length1":25,"length2":9}]],"length":6261,"saved":false}
{"ts":1363479289640,"patch":[[{"diffs":[[0,"<html><a"],[1," href"],[0,"</html>'"]],"start1":1582,"start2":1582,"length1":16,"length2":21}]],"length":6266,"saved":false}
{"ts":1363479290674,"patch":[[{"diffs":[[0,"><a href"],[1,"="],[0,"</html>'"]],"start1":1587,"start2":1587,"length1":16,"length2":17}]],"length":6267,"saved":false}
{"ts":1363479294201,"patch":[[{"diffs":[[0,"<a href="],[1,"\"ht"],[0,"</html>'"]],"start1":1588,"start2":1588,"length1":16,"length2":19}]],"length":6270,"saved":false}
{"ts":1363479298455,"patch":[[{"diffs":[[0,"href=\"ht"],[1,"tp://challenge.gov"],[0,"</html>'"]],"start1":1591,"start2":1591,"length1":16,"length2":34}]],"length":6288,"saved":false}
{"ts":1363479301083,"patch":[[{"diffs":[[0,"enge.gov"],[1,">C"],[0,"</html>'"]],"start1":1609,"start2":1609,"length1":16,"length2":18}]],"length":6290,"saved":false}
{"ts":1363479303975,"patch":[[{"diffs":[[0,"ge.gov>C"],[1,"hallenge.gov"],[0,"</html>'"]],"start1":1611,"start2":1611,"length1":16,"length2":28}]],"length":6302,"saved":false}
{"ts":1363479306883,"patch":[[{"diffs":[[0,"ge.gov</"],[1,"a></"],[0,"html>');"]],"start1":1625,"start2":1625,"length1":16,"length2":20}]],"length":6306,"saved":false}
{"ts":1363479361288,"patch":[[{"diffs":[[0,"enge.gov"],[1,"\""],[0,">Challen"]],"start1":1609,"start2":1609,"length1":16,"length2":17}]],"length":6307,"saved":false}
{"ts":1363479507832,"patch":[[{"diffs":[[0,"ext/html');\n    "],[1,"//"],[0,"res.send('<html>"]],"start1":1556,"start2":1556,"length1":32,"length2":34}]],"length":6309,"saved":false}
{"ts":1363479529298,"patch":[[{"diffs":[[0,"></html>');\n"],[1,"    \n    response.writeHead(302, {'Location': path});\n       response.end();\n"],[0,"});\n\n\n/**\n *"]],"start1":1637,"start2":1637,"length1":24,"length2":101}]],"length":6386,"saved":false}
{"ts":1363479534730,"patch":[[{"diffs":[[0,"path});\n    "],[-1,"   "],[0,"response.end"]],"start1":1695,"start2":1695,"length1":27,"length2":24}]],"length":6383,"saved":false}
{"ts":1363479539585,"patch":[[{"diffs":[[0,"\n    res"],[-1,"ponse"],[0,".writeHe"]],"start1":1653,"start2":1653,"length1":21,"length2":16}]],"length":6378,"saved":false}
{"ts":1363479541340,"patch":[[{"diffs":[[0," res"],[-1,"ponse"],[0,".end"]],"start1":1701,"start2":1701,"length1":13,"length2":8}]],"length":6373,"saved":false}
{"ts":1363479545600,"patch":[[{"diffs":[[0,"ation': "],[-1,"path"],[1,"''"],[0,"});\n    "]],"start1":1682,"start2":1682,"length1":20,"length2":18}]],"length":6371,"saved":false}
{"ts":1363479562602,"patch":[[{"diffs":[[0,"tion': '"],[1,"http://challenge.gove"],[0,"'});\n   "]],"start1":1683,"start2":1683,"length1":16,"length2":37}]],"length":6392,"saved":false}
{"ts":1363479571138,"patch":[[{"diffs":[[0,"enge.gov"],[-1,"e"],[0,"'});\n   "]],"start1":1703,"start2":1703,"length1":17,"length2":16}]],"length":6391,"saved":false}
{"ts":1363479709078,"patch":[[{"diffs":[[0,".end();\n"],[1,"\n\n\n\n"],[0,"});\n\n\n/*"]],"start1":1723,"start2":1723,"length1":16,"length2":20}]],"length":6395,"saved":false}
{"ts":1363479710606,"patch":[[{"diffs":[[0,"nd();\n\n\n"],[1,"var options = {\n  host: 'www.google.com',\n  port: 80,\n  path: '/index.html'\n};\n\nhttp.get(options, function(res) {\n  console.log(\"Got response: \" + res.statusCode);\n}).on('error', function(e) {\n  console.log(\"Got error: \" + e.message);\n});"],[0,"\n\n});\n\n\n"]],"start1":1725,"start2":1725,"length1":16,"length2":254}]],"length":6633,"saved":false}
{"ts":1363479715275,"patch":[[{"diffs":[[0,"nd();\n\n\n"],[1,"    "],[0,"var opti"]],"start1":1725,"start2":1725,"length1":16,"length2":20},{"diffs":[[0,"ons = {\n"],[1,"    "],[0,"  host: "]],"start1":1745,"start2":1745,"length1":16,"length2":20},{"diffs":[[0,"e.com',\n"],[1,"    "],[0,"  port: "]],"start1":1775,"start2":1775,"length1":16,"length2":20},{"diffs":[[0,"rt: 80,\n"],[1,"    "],[0,"  path: "]],"start1":1791,"start2":1791,"length1":16,"length2":20},{"diffs":[[0,"x.html'\n"],[-1,"};\n\n"],[1,"    };\n    \n    "],[0,"http.get"]],"start1":1817,"start2":1817,"length1":20,"length2":32},{"diffs":[[0,"tion(res) {\n"],[1,"    "],[0,"  console.lo"]],"start1":1863,"start2":1863,"length1":24,"length2":28},{"diffs":[[0,"sCode);\n"],[1,"    "],[0,"}).on('e"]],"start1":1921,"start2":1921,"length1":16,"length2":20},{"diffs":[[0,"on(e) {\n"],[1,"    "],[0,"  consol"]],"start1":1954,"start2":1954,"length1":16,"length2":20},{"diffs":[[0,"ssage);\n"],[1,"    "],[0,"});\n\n});"]],"start1":2000,"start2":2000,"length1":16,"length2":20}]],"length":6677,"saved":false}
{"ts":1363479724888,"patch":[[{"diffs":[[0,"t: '"],[-1,"www.google.com"],[1,"challenge.gov"],[0,"',\n "]],"start1":1762,"start2":1762,"length1":22,"length2":21}]],"length":6676,"saved":false}
{"ts":1363479802498,"patch":[[{"diffs":[[0,"tion(res"],[1,"on"],[0,") {\n    "]],"start1":1862,"start2":1862,"length1":16,"length2":18}]],"length":6678,"saved":false}
{"ts":1363479806023,"patch":[[{"diffs":[[0,"tion(res"],[1,"p"],[0,"on"],[1,"se"],[0,") {\n    "]],"start1":1862,"start2":1862,"length1":18,"length2":21}]],"length":6681,"saved":false}
{"ts":1363479814481,"patch":[[{"diffs":[[0,"tatusCode);\n"],[1,"      \n"],[0,"    }).on('e"]],"start1":1921,"start2":1921,"length1":24,"length2":31}]],"length":6688,"saved":false}
{"ts":1363479817590,"patch":[[{"diffs":[[0,"ode);\n      "],[1,"res.se"],[0,"\n    }).on('"]],"start1":1927,"start2":1927,"length1":24,"length2":30}]],"length":6694,"saved":false}
{"ts":1363479819611,"patch":[[{"diffs":[[0,"  res.se"],[1,"nd"],[0,"\n    })."]],"start1":1937,"start2":1937,"length1":16,"length2":18}]],"length":6696,"saved":false}
{"ts":1363479822449,"patch":[[{"diffs":[[0,"res.send"],[1,"(re)"],[0,"\n    })."]],"start1":1939,"start2":1939,"length1":16,"length2":20}]],"length":6700,"saved":false}
{"ts":1363479824881,"patch":[[{"diffs":[[0,".send(re"],[1,"s"],[0,")\n    })"]],"start1":1942,"start2":1942,"length1":16,"length2":17}]],"length":6701,"saved":false}
{"ts":1363479825969,"patch":[[{"diffs":[[0,"send(res"],[1,"ponse."],[0,")\n    })"]],"start1":1943,"start2":1943,"length1":16,"length2":22}]],"length":6707,"saved":false}
{"contributors":[],"silentsave":true,"ts":1363479933875,"patch":[[{"diffs":[[0,"tatusCode);\n"],[1,"      \n      \n"],[0,"      res.se"]],"start1":1921,"start2":1921,"length1":24,"length2":38},{"diffs":[[0,"response"],[-1,"."],[0,")\n    })"]],"start1":1962,"start2":1962,"length1":17,"length2":16}]],"length":6720,"saved":false}
{"ts":1363479938044,"patch":[[{"diffs":[[0,"    "],[-1,"\n      res.send(response)"],[1,"res.on('data', function (chunk) {\n            output += chunk;\n        });\n\n        res.on('end', function() {\n            var obj = JSON.parse(output);\n            onResult(res.statusCode, obj);\n        });"],[0,"\n   "]],"start1":1942,"start2":1942,"length1":33,"length2":215}]],"length":6902,"saved":false}
{"ts":1363479940771,"patch":[[{"diffs":[[0,"        });\n"],[1,"        \n"],[0,"    }).on('e"]],"start1":2142,"start2":2142,"length1":24,"length2":33}]],"length":6911,"saved":false}
{"ts":1363479948589,"patch":[[{"diffs":[[0,"        "],[-1,"output"],[1,"res"],[0," += chun"]],"start1":1984,"start2":1984,"length1":22,"length2":19}]],"length":6908,"saved":false}
{"ts":1363479951039,"patch":[[{"diffs":[[0,"     res"],[1,".w"],[0," += chun"]],"start1":1987,"start2":1987,"length1":16,"length2":18}]],"length":6910,"saved":false}
{"ts":1363479951766,"patch":[[{"diffs":[[0,"tml>');\n"],[-1,"    "],[0,"\n"],[1,""],[0,"    res."]],"start1":1641,"start2":1641,"length1":21,"length2":17},{"diffs":[[0,"\n    };\n"],[-1,"    "],[0,"\n"],[1,""],[0,"    http"]],"start1":1819,"start2":1819,"length1":21,"length2":17},{"diffs":[[0,"sCode);\n"],[-1,"      "],[0,"\n"],[1,""],[0,"      re"]],"start1":1917,"start2":1917,"length1":23,"length2":17},{"diffs":[[0,"    });\n"],[-1,"        "],[0,"\n    })."]],"start1":2131,"start2":2131,"length1":24,"length2":16}]],"length":6888,"saved":false}
{"ts":1363479956709,"patch":[[{"diffs":[[0,"    res."],[-1,"w"],[1,"s"],[0," += chun"]],"start1":1974,"start2":1974,"length1":17,"length2":17}]],"length":6888,"saved":false}
{"ts":1363479957963,"patch":[[{"diffs":[[0,"    res."],[-1,"s"],[0," += chun"]],"start1":1974,"start2":1974,"length1":17,"length2":16}]],"length":6887,"saved":false}
{"ts":1363479962569,"patch":[[{"diffs":[[0,"ction (chunk) {\n"],[1,"          res.\n"],[0,"            res."]],"start1":1950,"start2":1950,"length1":32,"length2":47}]],"length":6902,"saved":false}
{"ts":1363479966324,"patch":[[{"diffs":[[0,"    res."],[1,"w"],[0,"\n       "]],"start1":1972,"start2":1972,"length1":16,"length2":17}]],"length":6903,"saved":false}
{"ts":1363479969288,"patch":[[{"diffs":[[0,"    res."],[-1,"w"],[0,"\n       "]],"start1":1972,"start2":1972,"length1":17,"length2":16}]],"length":6902,"saved":false}
{"ts":1363479973842,"patch":[[{"diffs":[[0,"    res."],[1,"se"],[0,"\n       "]],"start1":1972,"start2":1972,"length1":16,"length2":18}]],"length":6904,"saved":false}
{"ts":1363479975021,"patch":[[{"diffs":[[0,"  res.se"],[1,"n"],[0,"\n       "]],"start1":1974,"start2":1974,"length1":16,"length2":17}]],"length":6905,"saved":false}
{"ts":1363479980058,"patch":[[{"diffs":[[0," res.sen"],[1,"d"],[0,"\n       "]],"start1":1975,"start2":1975,"length1":16,"length2":17}]],"length":6906,"saved":false}
{"ts":1363480140425,"patch":[[{"diffs":[[0,"res."],[-1,"send\n            res. +="],[1,"w"],[0," chu"]],"start1":1976,"start2":1976,"length1":32,"length2":9}]],"length":6883,"saved":false}
{"ts":1363480143141,"patch":[[{"diffs":[[0,"   res.w"],[-1," "],[1,"rite()"],[0,"chunk;\n "]],"start1":1973,"start2":1973,"length1":17,"length2":22}]],"length":6888,"saved":false}
{"ts":1363480144252,"patch":[[{"diffs":[[0,"s.write("],[-1,")"],[0,"chunk;\n "]],"start1":1978,"start2":1978,"length1":17,"length2":16}]],"length":6887,"saved":false}
{"ts":1363480146523,"patch":[[{"diffs":[[0,".write(chunk"],[1,")"],[0,";\n        })"]],"start1":1979,"start2":1979,"length1":24,"length2":25}]],"length":6888,"saved":false}
{"ts":1363480156620,"patch":[[{"diffs":[[0,"    "],[-1,"var obj = JSON.parse(output);\n            onResult(res.statusCode, obj);"],[1,"res."],[0,"\n   "]],"start1":2050,"start2":2050,"length1":80,"length2":12}]],"length":6820,"saved":false}
{"ts":1363480158178,"patch":[[{"diffs":[[0,"    res."],[1,"send"],[0,"\n       "]],"start1":2050,"start2":2050,"length1":16,"length2":20}]],"length":6824,"saved":false}
{"ts":1363480161302,"patch":[[{"diffs":[[0,"    res."],[-1,"send"],[0,"\n       "]],"start1":2050,"start2":2050,"length1":20,"length2":16}]],"length":6820,"saved":false}
{"ts":1363480162336,"patch":[[{"diffs":[[0,"    res."],[1,"end()"],[0,"\n       "]],"start1":2050,"start2":2050,"length1":16,"length2":21}]],"length":6825,"saved":false}
{"ts":1363480163829,"patch":[[{"diffs":[[0,"es.end()"],[1,";"],[0,"\n       "]],"start1":2055,"start2":2055,"length1":16,"length2":17}]],"length":6826,"saved":false}
{"ts":1363480170151,"patch":[[{"diffs":[[0,"e);\n    });\n"],[-1,"\n"],[0,"});\n\n\n/**\n *"]],"start1":2153,"start2":2153,"length1":25,"length2":24}]],"length":6825,"saved":false}
{"ts":1363480173986,"patch":[[{"diffs":[[0,"Code);\n\n    "],[-1,"  "],[0,"res.on('data"]],"start1":1918,"start2":1918,"length1":26,"length2":24}]],"length":6823,"saved":false}
{"ts":1363480176270,"patch":[[{"diffs":[[0,") {\n        "],[-1,"  "],[0,"res.write(ch"]],"start1":1960,"start2":1960,"length1":26,"length2":24}]],"length":6821,"saved":false}
{"ts":1363480178077,"patch":[[{"diffs":[[0,"chunk);\n"],[-1,"    "],[0,"    });\n"]],"start1":1982,"start2":1982,"length1":20,"length2":16}]],"length":6817,"saved":false}
{"ts":1363480182037,"patch":[[{"diffs":[[0,"atusCode);\n\n"],[1,"    "],[0,"    res.on('"]],"start1":1914,"start2":1914,"length1":24,"length2":28},{"diffs":[[0,"ction (chunk) {\n"],[1,"    "],[0,"        res.writ"]],"start1":1952,"start2":1952,"length1":32,"length2":36}]],"length":6825,"saved":false}
{"ts":1363480186856,"patch":[[{"diffs":[[0,"chunk);\n"],[1,"    "],[0,"    });\n"]],"start1":1990,"start2":1990,"length1":16,"length2":20}]],"length":6829,"saved":false}
{"ts":1363480191019,"patch":[[{"diffs":[[0,"sponse) {\n      "],[1,"  "],[0,"console.log(\"Got"]],"start1":1861,"start2":1861,"length1":32,"length2":34}]],"length":6831,"saved":false}
{"ts":1363480531915,"patch":[[{"diffs":[[0,">');"],[-1,"\n\n    res.writeHead(302, {'Location': 'http://challenge.gov'});\n    res.end();\n\n\n    var options = {\n      host: 'challenge.gov',\n      port: 80,\n      path: '/index.html'\n    };\n\n    http.get(options, function(response) {\n        console.log(\"Got response: \" + res.statusCode);\n\n        res.on('data', function (chunk) {\n            res.write(chunk);\n        });\n\n        res.on('end', function() {\n            res.end();\n        });\n\n    }).on('error', function(e) {\n      console.log(\"Got error: \" + e.message);\n    });"],[0,"\n});"]],"start1":1644,"start2":1644,"length1":530,"length2":8}]],"length":6309,"saved":false}
{"ts":1363480534524,"patch":[[{"diffs":[[0,"');\n    "],[-1,"//"],[0,"res.send"]],"start1":1564,"start2":1564,"length1":18,"length2":16}]],"length":6307,"saved":false}
{"ts":1363480565650,"patch":[[{"diffs":[[0,"/html>');\n});\n\n\n"],[1,"app.get('/info', function(req, res, next) {\n    res.setHeader('Content-Type', 'text/html');\n    res.send('<html><a href=\"http://challenge.gov\">Challenge.gov</a></html>');\n});\n\n\n"],[0,"/**\n * Returns t"]],"start1":1637,"start2":1637,"length1":32,"length2":209}]],"length":6484,"saved":false}
{"ts":1363480573235,"patch":[[{"diffs":[[0,"});\n\n\napp.get('/"],[-1,"info"],[1,"detail"],[0,"', function(req,"]],"start1":1647,"start2":1647,"length1":36,"length2":38}]],"length":6486,"saved":false}
{"ts":1363480581136,"patch":[[{"diffs":[[0,"'/detail"],[1,"/"],[0,"', funct"]],"start1":1661,"start2":1661,"length1":16,"length2":17}]],"length":6487,"saved":false}
{"ts":1363480643096,"patch":[[{"diffs":[[0,"es, next) {\n    "],[-1,"res"],[1,"console.log('GET /quotes/' + request.params.id);\n\tresponse"],[0,".setHeader('Cont"]],"start1":1688,"start2":1688,"length1":35,"length2":90},{"diffs":[[0,"ponse.setHeader("],[-1,"'"],[1,"\""],[0,"Content-Type', '"]],"start1":1757,"start2":1757,"length1":33,"length2":33},{"diffs":[[0,"Type"],[-1,"', 'text/html');\n    res.send('<html><a href=\"http://challenge.gov\">Challenge.gov</a></html>'"],[1,"\", \"application/json\");\n\n\tvar oid = request.params.id;\n\toid = oid ? BSON.ObjectID(oid) : null;\n\tconsole.log('oid = ' + oid"],[0,");\n"],[1,"\n"],[0,"});\n"]],"start1":1782,"start2":1782,"length1":104,"length2":134}]],"length":6572,"saved":false}
{"ts":1363480650531,"patch":[[{"diffs":[[0,"ET /"],[-1,"quotes"],[1,"detail"],[0,"/' +"]],"start1":1718,"start2":1718,"length1":14,"length2":14}]],"length":6572,"saved":false}
{"ts":1363480655827,"patch":[[{"diffs":[[0," ' + oid);\n\n"],[1,"\n"],[0,"});\n\n\n/**\n *"]],"start1":1900,"start2":1900,"length1":24,"length2":25}]],"length":6573,"saved":false}
{"ts":1363480672134,"patch":[[{"diffs":[[0,"/detail/"],[1,":id"],[0,"', funct"]],"start1":1662,"start2":1662,"length1":16,"length2":19}]],"length":6576,"saved":false}
{"ts":1363480694134,"patch":[[{"diffs":[[0,"tail/' + req"],[-1,"uest"],[0,".params.id);"]],"start1":1727,"start2":1727,"length1":28,"length2":24}]],"length":6572,"saved":false}
{"ts":1363480697296,"patch":[[{"diffs":[[0,"id = req"],[-1,"uest"],[0,".params."]],"start1":1816,"start2":1816,"length1":20,"length2":16}]],"length":6568,"saved":false}
{"ts":1363480701520,"patch":[[{"diffs":[[0,"\tres"],[-1,"ponse"],[0,".set"]],"start1":1752,"start2":1752,"length1":13,"length2":8}]],"length":6563,"saved":false}
{"ts":1363480741472,"patch":[[{"diffs":[[0," oid);\n\n"],[1,"        db.collection('challenges', function(err, collection) {\n            if (err) {\n                return callback(err);\n            } else {\n                collection.findOne({title: item.title}, function(err, entry) {\n                    if (err) {\n                        return callback(err);\n                    } else {\n                        if (entry) {\n                            console.log('entry exists: ' + entry.title);\n                        } else {\n                            collection.save(item, function(err, saved) {\n                                if (err) {\n                                    return callback(err);\n                                } else {\n                                    console.log(\"saved: \" + item.title);\n                                }\n                            });\n                        }\n                    }\n                });\n            }\n        })\n"],[0,"\n});\n\n\n/"]],"start1":1894,"start2":1894,"length1":16,"length2":937}]],"length":7484,"saved":false}
{"ts":1363480743827,"patch":[[{"diffs":[[0,"     })\n"],[-1,"\n"],[0,"});\n\n\n/*"]],"start1":2815,"start2":2815,"length1":17,"length2":16}]],"length":7483,"saved":false}
{"ts":1363480758443,"patch":[[{"diffs":[[0," ' + oid);\n\n"],[-1,"    "],[0,"    db.colle"]],"start1":1890,"start2":1890,"length1":28,"length2":24},{"diffs":[[0,"tion) {\n        "],[-1,"    "],[0,"if (err) {\n     "]],"start1":1954,"start2":1954,"length1":36,"length2":32},{"diffs":[[0,"     if (err) {\n"],[-1,"    "],[0,"            retu"]],"start1":1965,"start2":1965,"length1":36,"length2":32},{"diffs":[[0,"k(err);\n        "],[-1,"    "],[0,"} else {\n       "]],"start1":2007,"start2":2007,"length1":36,"length2":32},{"diffs":[[0,"       } else {\n"],[-1,"    "],[0,"            coll"]],"start1":2016,"start2":2016,"length1":36,"length2":32},{"diffs":[[0,"                "],[-1,"   "],[-1," "],[0,"if (err) {\n     "]],"start1":2107,"start2":2107,"length1":36,"length2":32},{"diffs":[[0,"     if (err) {\n"],[-1,"    "],[0,"                "]],"start1":2118,"start2":2118,"length1":36,"length2":32},{"diffs":[[0,"                "],[-1,"    "],[0,"} else {\n       "]],"start1":2176,"start2":2176,"length1":36,"length2":32},{"diffs":[[0,"                "],[-1,"   "],[-1," "],[0,"if (entry) {\n   "]],"start1":2205,"start2":2205,"length1":36,"length2":32},{"diffs":[[0,"   if (entry) {\n"],[-1,"    "],[0,"                "]],"start1":2218,"start2":2218,"length1":36,"length2":32},{"diffs":[[0,"                "],[-1,"    "],[0,"} else {\n       "]],"start1":2307,"start2":2307,"length1":36,"length2":32},{"diffs":[[0,"                "],[-1,"  "],[-1,"  "],[0,"collection.save("]],"start1":2340,"start2":2340,"length1":36,"length2":32},{"diffs":[[0,"n(err, saved) {\n"],[-1,"    "],[0,"                "]],"start1":2385,"start2":2385,"length1":36,"length2":32},{"diffs":[[0,"                "],[-1,"    "],[0,"return callback("]],"start1":2456,"start2":2456,"length1":36,"length2":32},{"diffs":[[0,"                "],[-1,"  "],[-1,"  "],[0,"} else {\n       "]],"start1":2506,"start2":2506,"length1":36,"length2":32},{"diffs":[[0,"       } else {\n"],[-1,"    "],[0,"                "]],"start1":2515,"start2":2515,"length1":36,"length2":32},{"diffs":[[0,"                "],[-1,"    "],[0,"}\n              "]],"start1":2612,"start2":2612,"length1":36,"length2":32},{"diffs":[[0,"            "],[-1," "],[-1,"   "],[0,"});\n"],[-1,"    "],[0,"            "]],"start1":2642,"start2":2642,"length1":36,"length2":28},{"diffs":[[0,"                "],[-1,"    "],[0,"}\n              "]],"start1":2680,"start2":2680,"length1":36,"length2":32},{"diffs":[[0,"  }\n            "],[-1," "],[-1,"   "],[0,"});\n            "]],"start1":2694,"start2":2694,"length1":36,"length2":32},{"diffs":[[0,"});\n        "],[-1,"   "],[-1," "],[0,"}\n"],[-1,"    "],[0,"    })\n});\n\n"]],"start1":2710,"start2":2710,"length1":34,"length2":26}]],"length":7391,"saved":false}
{"ts":1363480778858,"patch":[[{"diffs":[[0,"   if (err) {\n  "],[1,"        console.log(err);\n"],[0,"          return"]],"start1":1967,"start2":1967,"length1":32,"length2":58},{"diffs":[[0,"     return "],[-1,"callback"],[1,"next"],[0,"(err);\n     "]],"start1":2014,"start2":2014,"length1":32,"length2":28}]],"length":7413,"saved":false}
{"ts":1363480786597,"patch":[[{"diffs":[[0,"ection.findOne({"],[-1,"title"],[1,"_id"],[0,": item.title}, f"]],"start1":2070,"start2":2070,"length1":37,"length2":35}]],"length":7411,"saved":false}
{"ts":1363480794727,"patch":[[{"diffs":[[0,"e({_id: "],[-1,"item.title"],[1,"oid"],[0,"}, funct"]],"start1":2083,"start2":2083,"length1":26,"length2":19}]],"length":7404,"saved":false}
{"ts":1363480806506,"patch":[[{"diffs":[[0,"rr) {\n          "],[1,"console.log(err);\n"],[0,"          return"]],"start1":2141,"start2":2141,"length1":32,"length2":50},{"diffs":[[0,"     return "],[-1,"callback"],[1,"next"],[0,"(err);\n     "]],"start1":2180,"start2":2180,"length1":32,"length2":28}]],"length":7418,"saved":false}
{"ts":1363480808473,"patch":[[{"diffs":[[0,"rr) {\n          "],[1,"        "],[0,"console.log(err)"]],"start1":2141,"start2":2141,"length1":32,"length2":40},{"diffs":[[0,"nsole.log(err);\n"],[1,"        "],[0,"          return"]],"start1":2167,"start2":2167,"length1":32,"length2":40}]],"length":7434,"saved":false}
{"ts":1363480841114,"patch":[[{"diffs":[[0,"e {\n"],[-1,"                        collection.save(item, function(err, saved) {\n                            if (err) {\n                                return callback(err);\n                            } else {\n                                console.log(\"saved: \" + item.title);\n                            }\n                        });\n"],[0,"    "]],"start1":2371,"start2":2371,"length1":334,"length2":8}]],"length":7108,"saved":false}
{"ts":1363480842347,"patch":[[{"diffs":[[0,"       } else {\n"],[1,"                        r\n"],[0,"                "]],"start1":2359,"start2":2359,"length1":32,"length2":58}]],"length":7134,"saved":false}
{"ts":1363480844535,"patch":[[{"diffs":[[0,"       r"],[1,"es.s"],[0,"\n       "]],"start1":2392,"start2":2392,"length1":16,"length2":20}]],"length":7138,"saved":false}
{"ts":1363480846078,"patch":[[{"diffs":[[0,"   res.s"],[1,"end"],[0,"\n       "]],"start1":2396,"start2":2396,"length1":16,"length2":19}]],"length":7141,"saved":false}
{"ts":1363480848437,"patch":[[{"diffs":[[0,"res.send"],[1,"()"],[0,"\n       "]],"start1":2399,"start2":2399,"length1":16,"length2":18}]],"length":7143,"saved":false}
{"ts":1363480851786,"patch":[[{"diffs":[[0,"es.send("],[1,"'<th'"],[0,")\n      "]],"start1":2400,"start2":2400,"length1":16,"length2":21}]],"length":7148,"saved":false}
{"ts":1363480855798,"patch":[[{"diffs":[[0,".send('<"],[-1,"t"],[0,"h"],[1,"tml>"],[0,"')\n     "]],"start1":2402,"start2":2402,"length1":18,"length2":21}]],"length":7151,"saved":false}
{"ts":1363480860126,"patch":[[{"diffs":[[0,"('<html>"],[1,"not"],[0,"')\n     "]],"start1":2407,"start2":2407,"length1":16,"length2":19}]],"length":7154,"saved":false}
{"ts":1363480862130,"patch":[[{"diffs":[[0,"tml>"],[-1,"not"],[1,"N"],[0,"')\n "]],"start1":2411,"start2":2411,"length1":11,"length2":9}]],"length":7152,"saved":false}
{"ts":1363480864376,"patch":[[{"diffs":[[0,"'<html>N"],[1,"ot found</h"],[0,"')\n     "]],"start1":2408,"start2":2408,"length1":16,"length2":27}]],"length":7163,"saved":false}
{"ts":1363480865815,"patch":[[{"diffs":[[0,"found</h"],[1,"tml>"],[0,"')\n     "]],"start1":2419,"start2":2419,"length1":16,"length2":20}]],"length":7167,"saved":false}
{"ts":1363480886587,"patch":[[{"diffs":[[0,"    "],[-1,"console.log('entry exists: ' + entry.title);"],[0,"\n   "]],"start1":2297,"start2":2297,"length1":52,"length2":8}]],"length":7123,"saved":false}
{"ts":1363480896456,"patch":[[{"diffs":[[0,") {\n    "],[-1,"                    "],[1,"res.send('<html><a href=\"http://challenge.gov\">Challenge.gov</a></html>');"],[0,"\n       "]],"start1":2273,"start2":2273,"length1":36,"length2":90}]],"length":7177,"saved":false}
{"ts":1363480898800,"patch":[[{"diffs":[[0,"f (entry) {\n"],[1,"                    "],[0,"    res.send"]],"start1":2265,"start2":2265,"length1":24,"length2":44}]],"length":7197,"saved":false}
{"ts":1363481011920,"patch":[[{"diffs":[[0,"p.get('/"],[-1,"detail"],[1,"challenges"],[0,"/:id', f"]],"start1":1655,"start2":1655,"length1":22,"length2":26}]],"length":7201,"saved":false}
{"ts":1363481081394,"patch":[[{"diffs":[[0,"ET /"],[-1,"detail"],[1,"challenges"],[0,"/' +"]],"start1":1725,"start2":1725,"length1":14,"length2":18}]],"length":7205,"saved":false}
{"ts":1363481288870,"patch":[[{"diffs":[[0,"('<html><a href="],[1,"' "],[0,"\"http://challeng"]],"start1":2317,"start2":2317,"length1":32,"length2":34}]],"length":7207,"saved":false}
{"ts":1363481289703,"patch":[[{"diffs":[[0,"a href='"],[1," +"],[0," \"http:/"]],"start1":2326,"start2":2326,"length1":16,"length2":18}]],"length":7209,"saved":false}
{"ts":1363481304520,"patch":[[{"diffs":[[0,"ref=' + "],[-1,"\"http://challenge.gov\""],[0,">Challen"]],"start1":2329,"start2":2329,"length1":38,"length2":16}]],"length":7187,"saved":false}
{"ts":1363481306023,"patch":[[{"diffs":[[0,"ref=' + "],[1,"'\""],[0,">Challen"]],"start1":2329,"start2":2329,"length1":16,"length2":18}]],"length":7189,"saved":false}
{"ts":1363481314949,"patch":[[{"diffs":[[0,"<a href="],[1,"\""],[0,"' + '\">C"]],"start1":2325,"start2":2325,"length1":16,"length2":17}]],"length":7190,"saved":false}
{"ts":1363481318846,"patch":[[{"diffs":[[0,"ef=\"' + "],[1,"entry"],[0,"'\">Chall"]],"start1":2330,"start2":2330,"length1":16,"length2":21}]],"length":7195,"saved":false}
{"ts":1363481321023,"patch":[[{"diffs":[[0," + entry"],[1,".url"],[0,"'\">Chall"]],"start1":2335,"start2":2335,"length1":16,"length2":20}]],"length":7199,"saved":false}
{"ts":1363481322271,"patch":[[{"diffs":[[0,"ntry.url"],[1," "],[0,"'\">Chall"]],"start1":2339,"start2":2339,"length1":16,"length2":17}]],"length":7200,"saved":false}
{"ts":1363481324747,"patch":[[{"diffs":[[0,"ntry.url"],[1," +"],[0," '\">Chal"]],"start1":2339,"start2":2339,"length1":16,"length2":18}]],"length":7202,"saved":false}
{"ts":1363481332983,"patch":[[{"diffs":[[0,"rl + '\">"],[-1,"Challenge.gov"],[1,"' "],[0,"</a></ht"]],"start1":2345,"start2":2345,"length1":29,"length2":18}]],"length":7191,"saved":false}
{"ts":1363481334356,"patch":[[{"diffs":[[0,"l + '\">'"],[1," +"],[0," </a></h"]],"start1":2346,"start2":2346,"length1":16,"length2":18}]],"length":7193,"saved":false}
{"ts":1363481336323,"patch":[[{"diffs":[[0," '\">' + "],[1,"'"],[0,"</a></ht"]],"start1":2349,"start2":2349,"length1":16,"length2":17}]],"length":7194,"saved":false}
{"ts":1363481350838,"patch":[[{"diffs":[[0," '\">' + "],[1,"entry.t"],[0,"'</a></h"]],"start1":2349,"start2":2349,"length1":16,"length2":23}]],"length":7201,"saved":false}
{"ts":1363481354069,"patch":[[{"diffs":[[0," entry.t"],[1,"itle + "],[0,"'</a></h"]],"start1":2356,"start2":2356,"length1":16,"length2":23}]],"length":7208,"saved":false}
{"ts":1363481491183,"patch":[[{"diffs":[[0,"omplete "],[-1,"feed"],[1,"set of challenges"],[0,"\n */\napp"]],"start1":2574,"start2":2574,"length1":20,"length2":33}]],"length":7221,"saved":false}
{"ts":1363481495816,"patch":[[{"diffs":[[0,"the "],[-1,"complete set of "],[0,"chal"]],"start1":2569,"start2":2569,"length1":24,"length2":8}]],"length":7205,"saved":false}
{"ts":1363481498429,"patch":[[{"diffs":[[0,"\n/**\n * Returns "],[-1,"the "],[0,"challenges\n */\na"]],"start1":2553,"start2":2553,"length1":36,"length2":32}]],"length":7201,"saved":false}
{"ts":1363481503059,"patch":[[{"diffs":[[0,"p.get('/"],[-1,"feed"],[1,"cha"],[0,"', funct"]],"start1":2586,"start2":2586,"length1":20,"length2":19}]],"length":7200,"saved":false}
{"ts":1363481504817,"patch":[[{"diffs":[[0,"et('/cha"],[1,"llenges"],[0,"', funct"]],"start1":2589,"start2":2589,"length1":16,"length2":23}]],"length":7207,"saved":false}
